<div class="page">
    <div class="project-detail">
        <a href="#projects" class="back-button">← Back to Projects</a>
        <h1>Blue Bike Demand Model</h1>
        <div class="project-detail-image" style="background: url('assets/BlueBikesML.avif') center/cover;"></div>
        <p style="font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 2rem;">
            This is a model that can accurately track the demand of Blue Bikes given time of day, month, weather, and
            other factors.
            I use Blue Bikes very frequently and wanted to understand the flow better to predict when a given station
            would not have enough bikes to operate effectively.
        </p>

        <div class="project-section">
            <h2>1. Project Overview</h2>
            <p>
                I set out to forecast hourly demand for Blue Bikes using real trip data (start/end station, timestamp,
                rideable type). My goal was to build a model that could support operations planning—knowing in advance
                how many bikes will be needed at each hour of the day.
            </p>
            <figure id="fig1" style="margin-top: 1rem;">
                <img src="assets/download.png" alt="Time-series plot of hourly Blue Bikes demand"
                    style="max-width: 100%; border-radius: 8px;">
                <figcaption style="text-align: center; color: #666; font-size: 0.9rem; margin-top: 0.5rem;">
                    <strong>Figure 1.</strong> Time-series plot of hourly Blue Bikes demand over the entire period.
                </figcaption>
            </figure>
        </div>

        <div class="project-section">
            <h2>2. Methodology & Data Preparation</h2>
            <p>
                I started by loading the raw CSV of every trip and parsing the start time into separate
                <code>date</code>, <code>hour</code>, <code>dayofweek</code>, <code>is_weekend</code>, and
                <code>is_holiday</code> columns. I filtered detailed trip data down to aggregated counts per hour.
                Sorted chronologically, I used the last 6 days as a hold-out test set, with all prior data as the
                training set.
            </p>
            <p>
                I tested a standard linear fitting model initially, but it did not work effectively (RMSE ≈ 475). I then
                evaluated multiple regression algorithms including KNeighbors, RandomForest, and GradientBoosting.
                <strong>RadiusNeighborsRegressor</strong> yielded the best results. I chose to use this model and tuned
                it further to improve performance.
            </p>
        </div>

        <div class="project-section">
            <h2>3. Model Selection & Tuning</h2>
            <p>The "leaderboard" of models showed RadiusNeighborsRegressor as the winner (MAE ≈ 208).</p>
            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                <thead>
                    <tr style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                        <th style="padding: 12px; text-align: left;">Model</th>
                        <th style="padding: 12px; text-align: left;">MAE</th>
                        <th style="padding: 12px; text-align: left;">RMSE</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid #dee2e6;">
                        <td style="padding: 8px;">RadiusNeighborsRegressor</td>
                        <td style="padding: 8px;">208.21</td>
                        <td style="padding: 8px;">334.59</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #dee2e6;">
                        <td style="padding: 8px;">KNeighborsRegressor</td>
                        <td style="padding: 8px;">215.33</td>
                        <td style="padding: 8px;">346.70</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #dee2e6;">
                        <td style="padding: 8px;">GaussianProcessRegressor</td>
                        <td style="padding: 8px;">230.50</td>
                        <td style="padding: 8px;">384.38</td>
                    </tr>
                </tbody>
            </table>
            <p>
                After hyperparameter tuning (GridSearchCV) on radius, weights, metric, and leaf_size, the best
                parameters were found (Radius: 5.0, Weights: distance).
            </p>
        </div>

        <div class="project-section">
            <h2>4. Results</h2>
            <p>
                The final tuned model achieved a Test MAE of <strong>184.76 trips/hour</strong>. This robust
                demand-forecasting pipeline reduced MAE by ~30% compared to the baseline.
            </p>
            <figure id="fig4" style="margin-top: 1rem;">
                <img src="assets/BestTime.png" alt="Overlay of actual vs. predicted demand over time"
                    style="max-width: 100%; border-radius: 8px;">
                <figcaption style="text-align: center; color: #666; font-size: 0.9rem; margin-top: 0.5rem;">
                    <strong>Figure 4.</strong> Overlay of actual vs. predicted hourly demand over the test period.
                </figcaption>
            </figure>
        </div>

        <div class="project-section">
            <h2>5. Next Steps</h2>
            <ul style="color: var(--text-secondary);">
                <li>Map actual transfers between stations as a graph.</li>
                <li>Model transfers from stations specifically (not just aggregate demand).</li>
                <li>Integrate weather and special event data for higher accuracy.</li>
            </ul>
        </div>

        <h3 style="margin-bottom: 1rem;">Key Features</h3>
        <ul style="margin-bottom: 2rem; color: var(--text-secondary);">
            <li>RadiusNeighborsRegressor Model</li>
            <li>Low RMSE and MAE</li>
            <li>Accurate Demand Prediction</li>
        </ul>

        <h3 style="margin-bottom: 1rem;">Technologies Used</h3>
        <div class="skills">
            <span class="skill">Python</span>
            <span class="skill">sklearn</span>
            <span class="skill">Matplotlib</span>
            <span class="skill">Pandas</span>
            <span class="skill">Seaborn</span>
        </div>
    </div>
</div>